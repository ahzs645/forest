<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>BC Forestry Trail</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="init-overlay" class="init-overlay" hidden>
      <div class="init-frame">
        <div class="init-topline">
          <div class="init-brand">BC_FORESTRY_SIM // v1.4</div>
          <div class="init-coordinates">LAT: 53.7°N | LON: -122.7°W | STATUS: ONLINE</div>
        </div>

        <div class="init-progress" id="init-progress">
          <div class="progress-dot active" data-step="intro">
            <span class="dot-index">01</span>
            <span class="dot-label">Crew Handle</span>
          </div>
          <div class="progress-dot" data-step="role">
            <span class="dot-index">02</span>
            <span class="dot-label">Role Selection</span>
          </div>
          <div class="progress-dot" data-step="area">
            <span class="dot-index">03</span>
            <span class="dot-label">Operating Area</span>
          </div>
        </div>

        <section id="intro-step" class="init-step">
          <div class="init-grid intro-grid">
            <div class="intro-panel">
              <p class="eyebrow">TERMINAL // ID-88X</p>
              <h2 class="init-title">SYSTEM READY</h2>
              <p class="lede">
                Welcome, Operator. You have been assigned to the BC Forestry Operations System.
                Confirm your crew and initialize the simulation to proceed.
              </p>
              <ul class="system-checks">
                <li><span class="check">•</span> Loading BEC Zones........................................ OK</li>
                <li><span class="check">•</span> Calibrating harvesting links............................ UPDATED</li>
                <li><span class="check">•</span> Checking market rates................................... OK</li>
                <li><span class="check">•</span> Establishing connection to HQ........................... CONNECTED</li>
              </ul>

              <label class="field-label" for="crew-name-input">Crew Handle</label>
              <div class="field-row">
                <input id="crew-name-input" class="init-input" type="text" value="The Timber Wolves" />
                <button id="intro-continue-btn" class="init-primary" type="button">[> Initialize Role]</button>
              </div>
            </div>

            <div class="intro-visual">
              <div class="visual-header">
                <span class="pill">NORTHERN CANOPY SIM</span>
                <span class="pill">BUILD 1.4.0</span>
              </div>
              <div class="visual-body">
                <div class="visual-signal">SIGNAL: STABLE</div>
                <div class="visual-caption">SUSTAINABILITY THROUGH DATA</div>
                <div class="visual-grid">
                  <div>
                    <p class="muted">CURRENT FOCUS</p>
                    <p class="value">Resource Integrity</p>
                  </div>
                  <div>
                    <p class="muted">SIM TYPE</p>
                    <p class="value">Field / Desk Hybrid</p>
                  </div>
                  <div>
                    <p class="muted">NETWORK</p>
                    <p class="value">BC_FORESTRY_NET</p>
                  </div>
                  <div>
                    <p class="muted">DATE</p>
                    <p class="value">Q3 // FY24</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="role-step" class="init-step" hidden>
          <header class="step-header">
            <div>
              <p class="eyebrow">SYSTEM INITIALIZATION // USER_ALLOCATION</p>
              <h2 class="init-title">Select your operational specialization</h2>
            </div>
            <div class="step-meta">
              <span class="pill">OPERATOR CLASS</span>
              <span class="pill">CREW SIZE: 5</span>
            </div>
          </header>

          <div id="role-grid" class="card-grid"></div>

          <footer class="step-footer">
            <button id="role-glossary-btn" class="init-ghost" type="button">[?] Glossary Assist</button>
            <button id="role-continue-btn" class="init-primary" type="button">[> Confirm Role]</button>
          </footer>
        </section>

        <section id="area-step" class="init-step" hidden>
          <header class="step-header">
            <div>
              <p class="eyebrow">SYSTEM ALERT: SELECT OPERATING THEATRE</p>
              <h2 class="init-title">Connect to an operating area to deploy</h2>
            </div>
            <div class="step-meta">
              <span class="pill">DATA LINK // SECURE</span>
              <span class="pill">GLOSSARY READY</span>
            </div>
          </header>

          <div class="area-grid">
            <div id="area-list" class="area-list" role="list"></div>
            <div class="area-detail" id="area-detail"></div>
          </div>

          <footer class="step-footer">
            <button id="area-glossary-btn" class="init-ghost" type="button">[?] Glossary Assist</button>
            <button id="area-continue-btn" class="init-primary" type="button">[> Initialize Deployment]</button>
          </footer>
        </section>
      </div>
    </div>

    <div class="game-wrapper">
      <!-- Main game screen -->
      <main class="game-screen">
        <!-- Header with title and actions -->
        <header class="header">
          <h1 class="header-title">BC FORESTRY TRAIL</h1>
          <div class="header-actions">
            <button id="status-btn" class="header-btn" type="button" aria-label="View status">
              [S] Status
            </button>
            <button id="glossary-btn" class="header-btn" type="button" aria-label="Glossary">
              [G] Glossary
            </button>
            <button id="help-btn" class="header-btn" type="button" aria-label="Help">
              [?] Help
            </button>
            <button id="restart-btn" class="header-btn" type="button" aria-label="Restart game">
              [R] Restart
            </button>
          </div>
        </header>

        <!-- Quick status bar (always visible) -->
        <div id="status-bar" class="status-bar">
          <div class="status-item">
            <span class="status-label" id="day-label">DAY</span>
            <span id="day-value" class="status-value">1</span>
          </div>
          <div class="status-item">
            <span class="status-label">PROGRESS</span>
            <span id="progress-value" class="status-value">0%</span>
          </div>
          <div class="status-item">
            <span class="status-label">CREW</span>
            <span id="crew-value" class="status-value">5/5</span>
          </div>
          <div class="status-item">
            <span class="status-label">MORALE</span>
            <span id="morale-value" class="status-value">75%</span>
          </div>
        </div>

        <!-- Terminal output area -->
        <div id="terminal" class="terminal" role="log" aria-live="polite"></div>

        <!-- Action area (buttons and input) -->
        <div id="action-area" class="action-area">
          <div id="choices" class="choices"></div>
          <div id="input-wrapper" class="input-wrapper" hidden>
            <span class="input-prompt">&gt;</span>
            <input
              id="text-input"
              type="text"
              class="text-input"
              placeholder="Type here..."
              autocomplete="off"
              autocapitalize="off"
              spellcheck="false"
              aria-label="Text input"
            />
            <button id="submit-btn" class="submit-btn" type="button">[ENTER]</button>
          </div>
        </div>
      </main>

      <!-- Side panel for detailed status -->
      <aside id="side-panel" class="side-panel" aria-label="Detailed status">
        <div class="panel-header">
          <h2 class="panel-title">STATUS REPORT</h2>
          <button id="close-panel" class="close-btn" type="button" aria-label="Close panel">[X]</button>
        </div>
        <div id="panel-content" class="panel-content">
          <!-- Crew section -->
          <section class="panel-section">
            <h3 class="section-title">CREW</h3>
            <div id="crew-panel" class="crew-panel"></div>
          </section>
          <!-- Resources section -->
          <section class="panel-section">
            <h3 class="section-title">SUPPLIES</h3>
            <div id="resources-panel" class="resources-panel"></div>
          </section>
          <!-- Location section -->
          <section class="panel-section">
            <h3 class="section-title">LOCATION</h3>
            <div id="location-panel" class="location-panel"></div>
          </section>
        </div>
      </aside>

      <!-- Panel backdrop (mobile) -->
      <div id="panel-backdrop" class="panel-backdrop" hidden></div>
    </div>

    <!-- Modal dialog -->
    <div id="modal" class="modal" hidden>
      <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modal-title">
        <div class="modal-header">
          <h2 id="modal-title" class="modal-title"></h2>
        </div>
        <div id="modal-body" class="modal-body"></div>
        <div id="modal-actions" class="modal-actions"></div>
      </div>
    </div>

    <script type="module" src="js/game.js"></script>
  </body>
</html>
